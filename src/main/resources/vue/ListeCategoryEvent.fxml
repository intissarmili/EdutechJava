<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.ListeCategoryEventController"
            style="-fx-background-color: #f5f7fa;">

    <top>
        <VBox spacing="15" style="-fx-padding: 20 25; -fx-background-color: white; -fx-border-color: transparent transparent #e0e0e0 transparent; -fx-border-width: 0 0 1 0;">
            <HBox alignment="CENTER_LEFT" spacing="20">
                <Label text="Liste des Catégories d'Événements" style="-fx-font-size: 22; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <Region HBox.hgrow="ALWAYS" />
                <Button text="+ Ajouter une catégorie" onAction="#openAddForm"
                        style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 4; -fx-padding: 8 15; -fx-cursor: hand;">
                    <effect>
                        <DropShadow color="#00000033" radius="3" spread="0.05"/>
                    </effect>
                    <graphic>
                        <SVGPath content="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"
                                 style="-fx-fill: white;"/>
                    </graphic>
                </Button>
            </HBox>

            <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-padding: 5 0;">
                <HBox alignment="CENTER_LEFT" style="-fx-background-color: #f4f8fa; -fx-background-radius: 4; -fx-padding: 5 10;" HBox.hgrow="ALWAYS">
                    <TextField fx:id="searchField" promptText="Rechercher par lieu ou type..."
                               style="-fx-background-color: transparent; -fx-padding: 5;" HBox.hgrow="ALWAYS" />
                    <Button style="-fx-background-color: transparent; -fx-padding: 5 8;">
                        <graphic>
                            <SVGPath content="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"
                                     style="-fx-fill: #7f8c8d;"/>
                        </graphic>
                    </Button>
                </HBox>
                <ComboBox fx:id="filterComboBox" promptText="Tous les types" prefWidth="180"
                          style="-fx-background-color: #f4f8fa; -fx-background-radius: 4;"/>
            </HBox>
        </VBox>
    </top>

    <center>
        <VBox style="-fx-padding: 0 25;">
            <TableView fx:id="tableView" style="-fx-padding: 0; -fx-background-color: white; -fx-border-color: #e0e0e0; -fx-border-radius: 4;">
                <effect>
                    <DropShadow color="#00000022" radius="3" spread="0.02"/>
                </effect>
                <columns>
                    <TableColumn fx:id="colLocation" text="Lieu" prefWidth="200"
                                 style="-fx-alignment: CENTER-LEFT; -fx-padding: 12; -fx-font-weight: bold;"/>
                    <TableColumn fx:id="colType" text="Type" prefWidth="200"
                                 style="-fx-alignment: CENTER-LEFT; -fx-padding: 12;"/>
                    <TableColumn fx:id="colDuration" text="Durée" prefWidth="150"
                                 style="-fx-alignment: CENTER-LEFT; -fx-padding: 12;"/>
                    <TableColumn fx:id="colActions" text="Actions" prefWidth="220"
                                 style="-fx-alignment: CENTER; -fx-padding: 12;"/>
                </columns>
                <placeholder>
                    <VBox alignment="CENTER" spacing="15" style="-fx-padding: 30;">
                        <SVGPath content="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"
                                 style="-fx-fill: #bdc3c7; -fx-scale-x: 2; -fx-scale-y: 2;"/>
                        <Label text="Aucune catégorie d'événement trouvée"
                               style="-fx-font-size: 15; -fx-text-fill: #757575;"/>
                        <Button text="Créer la première catégorie" onAction="#openAddForm"
                                style="-fx-background-color: #f4f8fa; -fx-text-fill: #3498db; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 4; -fx-cursor: hand;"/>
                    </VBox>
                </placeholder>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
            </TableView>
        </VBox>
    </center>

    <bottom>
        <HBox alignment="CENTER" spacing="15"
              style="-fx-padding: 15 25; -fx-background-color: #f8f9fa; -fx-border-color: #e0e0e0 transparent transparent transparent; -fx-border-width: 1 0 0 0;">
            <HBox alignment="CENTER_LEFT" spacing="5"
                  style="-fx-background-color: white; -fx-background-radius: 4; -fx-padding: 8 15; -fx-border-color: #e0e0e0; -fx-border-radius: 4;">
                <Label text="Total des catégories: " style="-fx-text-fill: #757575;"/>
                <Label fx:id="totalCategoriesLabel" text="0" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            </HBox>
            <Region HBox.hgrow="ALWAYS" />
            <Pagination fx:id="tablePagination" pageCount="5" maxPageIndicatorCount="5"
                        style="-fx-page-information-visible: false;"/>
            <Region HBox.hgrow="ALWAYS" />
            <Button text="Rafraîchir" onAction="#refreshTable"
                    style="-fx-background-color: white; -fx-text-fill: #2c3e50; -fx-padding: 8 15; -fx-background-radius: 4; -fx-border-color: #e0e0e0; -fx-border-radius: 4; -fx-cursor: hand;">
                <graphic>
                    <SVGPath content="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"
                             style="-fx-fill: #3498db;"/>
                </graphic>
            </Button>
        </HBox>
    </bottom>
</BorderPane>